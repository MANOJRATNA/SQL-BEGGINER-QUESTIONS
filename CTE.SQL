--CTE

--COMMAN TABLE EXPRESSIONS


SELECT E.ENAME,E.EMPNO,D.DNAME 
FROM EMP E 
JOIN DEPT D ON E.DEPTNO=D.DEPTNO
JOIN EMP E1 ON E.MGR=E1.EMPNO



SELECT * FROM (SELECT * FROM EMP E )A


WITH CTE_EMPDETAILS (manoj,EMPID)
AS (SELECT ENAME,EMPNO FROM EMP)
SELECT * FROM CTE_EMPDETAILS
WHERE MANOJ = 'SMITH'

--SHOW THE EMPLOYEES IN RESEARCH DEPARTMENT BY USIN CTE

WITH CTE_JOBDETAILS 
AS (SELECT E.EMPNO,E.ENAME,E.DEPTNO,D.DNAME FROM EMP E, DEPT D)
SELECT DISTINCT * FROM CTE_JOBDETAILS
WHERE DEPTNO = 20 AND DNAME = 'RESEARCH'

SELECT * FROM DEPT